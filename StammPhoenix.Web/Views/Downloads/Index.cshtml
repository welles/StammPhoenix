@using StammPhoenix.Web.Models.Downloads

@inject ITempCookieService TempCookieService

@model DownloadsViewModel

<div class="container card shadow-sm p-0">
    <h5 class="card-header">Downloads</h5>
    <div class="card-body d-flex flex-column">
        <table class="table p-0 m-0">
            @foreach (var file in Model.Files)
            {
                <tr>
                    <th>@file.Name</th>
                    <td>
                        <a class="btn btn-dark" href="@Url.To("Index", "Downloads", routeValues: new {key = file.Key})"><span class="material-icons">download</span> Herunterladen</a>
                    </td>
                </tr>
            }
        </table>
        @if (TempCookieService.TryGetTempCookie("DownloadErrorMessage", out var errorMessage))
        {
            <div class="alert alert-danger mt-2 align-self-center" role="alert">@Html.Raw(errorMessage)</div>
        }
    </div>
</div>
